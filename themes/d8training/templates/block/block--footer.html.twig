{#
/**
 * @file
 * Theme override to display a block.
 *
 * Available variables:
 * - plugin_id: The ID of the block implementation.
 * - label: The configured label of the block if visible.
 * - configuration: A list of the block's configuration values.
 *   - label: The configured label for the block.
 *   - label_display: The display settings for the label.
 *   - provider: The module or other provider that provided this block plugin.
 *   - Block plugin specific settings will also be stored here.
 * - content: The content of this block.
 * - attributes: array of HTML attributes populated by modules, intended to
 *   be added to the main container tag of this template.
 *   - id: A valid HTML ID and guaranteed unique.
 * - title_attributes: Same as attributes, except applied to the main title
 *   tag that appears in the template.
 * - title_prefix: Additional output populated by modules, intended to be
 *   displayed in front of the main title tag that appears in the template.
 * - title_suffix: Additional output populated by modules, intended to be
 *   displayed after the main title tag that appears in the template.
 *
 * @see template_preprocess_block()
 */
#}
{{ attach_library('d8training/footer') }}

{% set menu_items = [] %}
{% for item in content['#footer']['#items'] %}
  {% set menu_items = menu_items|merge([{
    'url': item.url,
    'name': item.title,
    'active': item.in_active_trail
  }]) %}
{% endfor %}

{% include '@d8training/footer/footer.twig' with {
  "home_url": content['#home_url'],
  "image": file_url(content['#image'].uri.value),
  "address": content['#address'],
  "email": content['#email'],
  "telephone": content['#telephone'],
  "copyright": content['#copyright'],
  "socials": {
    "facebook": content['#socials'].facebook,
    "twitter": content['#socials'].twitter,
    "dribble": content['#socials'].dribble,
    "pinterest": content['#socials'].pinterest,
    "google_plus": content['#socials'].google_plus,
    "flickr": content['#socials'].flickr,
    "skype": content['#socials'].skype,
    "behance": content['#socials'].behance,
    "rss": content['#socials'].rss
  },
  "footer_menu": menu_items
} only %}